# API request
### API request는 client가 server에게 데이터를 요청하는 작업을 말한다. 
### API(request)에는 client에서 서버로 보내는 데이터와 요청 유형을 정의하는데 사용하는 다양한 메서드, 헤더, 본문 등이 포함된다.


## 1. HTTP 메서드 (HTTP Method)
#### client가 server에게 수행하고자 하는 작업을 나타낸다.
#### 일반적인 HTTP 메서드로는 GET, POST, PUT, DELETE 등이 있다.
#### 클라이언트는 이 메서드를 사용하여 요청의 목적을 서버에게 알린다.
### 1. GET
#### 1-1. GET 메서드는 주로 데이터를 읽거나(Read) 검색(Retrieve)할 때 사용되는 메서드다.
#### 1-2. HTTP 명세에 의하면 GET 요청은 오로지 데이터를 읽을 때만 사용되고 수정할 때는 사용하지 않는다.
#### 1-3. GET 요청은 멱등성(idempotent) 하다. 여기서 말하는 멱등성(idempotent)란 연산을 여러번 적용하더라도 결과가 달라지지 않는 성질을 의미한다.
#### 1-4. 데이터를 변경하는 연산에 사용하면 안된다.
### 2. POST
#### 2-1. POST 메서드는 주로 새로운 resource를 생성할 때 사용된다.
#### 2-2. POST 요청은 멱등성(idempotent) 하지 않다.
#### 2-3. 같은 POST 요청을 반복해서 했을 때 항상 같은 결과물이 나오는 것을 보장하지 않는다.
#### 2-4. 두개의 같은 POST 요청을 보내면 같은 정보를 담은 두개의 다른 resource를 반환할 가능성이 높다.
### 3. PUT
#### 3-1. PUT 메서드는 resource를 생성 및 업데이트하기 위해 server로 데이터를 보내는데 사용된다.
#### 3-2. PUT 요청은 멱등성(idempotent) 하다.
#### 3-3. PUT 요청을 여러번 호출하면 항상 동일한 결과가 생성된다.
### 4. PATCH
#### 4-1. PATCH 메서드는 resource를 일부분 업데이트 하기 위해 사용된다.
#### 4-2. PATCH 메서드는 멱등성(idempotent) 하지 않다.
### 5. DELETE
#### 5-1. DELETE 메서드는 지정된 resource를 삭제한다.


## 2. URI (Uniform Resource Identifier)
#### URI는 인터넷 상의 resource를 고유하게 식별하기 위한 문자열 식별자이다.
#### URI는 웹 브라우저가 웹 페이지에 액세스하는데 사용하는 URL(Uniform Resource Locator)의 하위 개념이다.
#### 다음은 구성 요소이다.
### 1. 스키마(Scheme)
#### URI의 첫 번째 부분으로 해당 resource에 액세스하기 위해 사용되는 프로토콜을 지정한다.
#### 일반적인 스키마로는 "http", "https", "ftp", "file"등이 있다.
#### 예를 들어 "http://", "https://"가 스키마의 예이다.
### 2. 호스트 (Host)
#### 호스트는 resource가 호스팅되는 서버의 도메인 이름 또는 IP 주소를 지정한다.
#### 호스트는 스키마 뒤에 쌍점과 함께 포함된다.
#### 예를 들어 "www.example.com"가 호스트의 예이다.
### 3. 포트 (Port)
#### 포트는 호스트에서 resource에 액세스하기 위한 네트워크 포트 번호를 지정한다.
#### 일반적으로 웹 서비스에는 80포트(HTTP) 또는 443포트(HTTPS)가 사용된다.
#### 포트는 콜론뒤에 지정되는데 예를들면 ":80" 또는 ":443" 포트가 예이다.
### 4. 경로 (Path)
#### 경로는 호스트 내에서 resource의 위치를 지정한다. 이 부분은 resource의 계층 구조를 반영하며 슬래시("/")로 구분된다.
#### 경로는 스키마, 호스트, 포트 다음에 나오며, 웹페이지의 경로나 파일 시스템으 ㅣ디렉터리 구조와 유사하다.
#### 예를 들어 "/test/page.html"는 경로의 예이다.
### 5. 쿼리 (Query)
#### 쿼리는 추가 매개 변수와 그 값을 resource에 전달하는데 사용된다.
#### 쿼리는 "?"로 시작하며, 이름-값 쌍이 "&"로 구분된다.
#### 예를 들어 "?name=tom&age=20"은 쿼리의 예이다.
### 6. 프래그먼트 (Fragment)
#### 프래그먼트는 리소스 내에서 특정 위치나 섹션을 가리키는데 사용된다.
#### 프래그먼트는 해시 기호("#")로 시작하며, 웹 페이지의 특정 섹션에 직접 이동하는데 사용된다.
#### 예를 들어 "#section1"은 프래그먼트의 예이다.
### 요약
#### 구성 요소를 모두 포함한 URI는 
#### '"https://www.example.com:8080/test/page.html?name=tom&age=20#section3" 
#### 이렇다.
#### client는 URI를 통해 원격 서버의 resource에 접근하고, resource의 위치를 정확하게 식별할 수 있다. 
#### URI는 URL과 URN(Uniform Resource Name)으로 나눌 수 있으며, URL은 resource의 위치를 식별하고, URN은 resource의 이름을 식별한다.


## 3. HTTP 헤더 (HTTP Header)
### 1. 요청 헤더 (Request Headers)
#### 1-1. Host: 요청이 전송되는 웹 서버의 호스트 이름 및 포트 번호를 나타낸다.
#### 1-2. User-Agent: 클라이언트 소프트웨어(브라우저)의 정보를 제공한다.
#### 1-3. Accept: 클라이언트가 받아들일 수 있는 콘텐츠 유형을 지정한다.
#### 1-4. Authorization: 클라이언트의 인증 정보를 전송하며, 주로 로그인 세션에 사용된다.
#### 1-5. Cookie: 클라이언트 측에서 서버로 전송되는 쿠키 정보를 포함한다.
#### 1-6. Referer (또는 Referrer): 현재 요청을 수행한 웹 페이지의 URL을 포함하며, 주로 웹 트래킹 및 분석에 사용된다.
#### * ***fastapi에서 사용하는 Cookie와 Header는 요청 헤더에 있는 정보를 가져온다. Cookie를 가져올 때만 Cookie를 사용하고 나머지 정보를 가져올 때는 Header를 사용한다.***
### 2. 응답 헤더 (Response Headers)
#### 2-1. Server: 웹 서버의 소프트웨어 정보를 제공한다.
#### 2-2. Content-Type: 응답 본문의 미디어 유형 및 문자 인코딩을 지정한다.
#### 2-3. Location: 리디렉션 응답에서 새로운 resource의 위치를 제공하며, 클라이언트를 새로운 URL로 리디렉션할 때 사용된다.
#### 2-4. Cache-Control: 클라이언트와 중간 캐시 서버에 대한 캐싱 지침을 지정한다.
#### 2-5. Set-Cookie: 클라이언트 측에 쿠키 정보를 설정하는데 사용되며, 상태를 유지하거나 세션을 관리하는데 중요하다.
### 3. 일반 헤더 (General Headers)
#### 3-1. Cache-Control: 요청 또는 응답의 캐싱 동작을 지정한다.
#### 3-2. Date: 메시지 생성 일시를 지정한다.
#### 3-3. Connection: 지속적인 연결 여부를 제어하는데 사용된다.
### 4. 엔티티 헤더 (Entity Headers)
#### 4-1. Content-Type: 메시지 본문의 미디어 유형을 지정한다.
#### 4-2. Content-Length: 메시지 본문의 길이를 지정한다.
#### 4-3. Content-Enconding: 메시지 본문의 압축 또는 인코딩 형식을 지정한다.
### 요약
#### HTTP 헤더는 클라이언트와 서버 간의 통신을 제어하고 메타 정보를 전달하는 중요한 역할을 한다.
#### 이러한 헤더는 웹 브라우저 및 웹서버, API 클라이언트 및 서버, 프록시 서버, 로드 밸런시 등의 HTTP 통신을 수행하는 모든 요소 간의 상호작용을 정의한다.
#### 예를 들어 Content-Type 헤더는 클라이언트에게 응답 메시지의 형식을 알려주고 Authorization 헤더는 요청이 인증되었음을 나타낸다.
#### 이러한 헤더는 HTTP 통신의 안전성과 효율성을 제어하는데 중요한 역할을 한다.


## 4. Request Body
#### Request Body는 HTTP 요청의 일부로, 클라이언트가 서버로 전송하는 데이터를 포함하는 구성 요소이다.
#### Request Body는 주로 POST, 및 PUT 요청과 함께 사용되며, 데이터를 서버에 제출하거나 업데이트하는데 사용된다.
### 1. 데이터 형식(Media Type)
#### Request Body는 다양한 형식의 데이터를 포함할 수 있으며, 데이터는 텍스트, JSON, XML, 바이너리 또는 다른 형식으로 전송될 수 있다. 이러한 데이터 형식은 request의 Content-Type 헤더에 지정된다.
#### 1-1. 'application/json': JSON 형식의 데이터를 나타낸다.
#### 1-2. 'application/xml': XML 형식의 데이터를 나타낸다.
#### 1-3. 'application/x-www.form-urlencoded': 웹 양식의 데이터를 나타낸다.
#### 1-4. 'multipart/form-data': 파일 업로드와 함께 사용되는 데이터 형식을 나타낸다.
### 2. 데이터 형식 지정
#### Request Body의 데이터 형식은 Content-Type 헤더를 통해 명시적으로 지정되어야 한다. 서버는 이 데이터 형식에 따라 데이터를 올바르게 해석한다.
### 3. 데이터 전송 방법
#### 3-1. POST: 새로운 데이터를 서버에 제출한다. 일반적으로 form 데이터나 JSON 데이터와 함께 사용된다.
#### 3-2. PUT: 요청 본문의 데이터를 지정한 리소스로 업데이트한다.
#### 3-3. PATCH: 리소스의 부분 업데이트를 요청 본문을 사용하여 수행한다.
#### 3-4. DELETE: Request Body를 사용하여 요청을 보낼 때, 삭제될 리소스를 나타내는 경우가 있다.
### 4. 데이터 구조
#### Request Body의 구조는 데이터 형식에 따라 다를 수 있다. 예를 들어 JSON 데이터의 Request Body는 JSON 객체 또는 배열 형태를 가질 수 있고 XML 데이터는 XML 구조를 따른다.
### 5. Request Body의 크기 제한
#### Request Body의 크기는 HTTP 서버 및 클라이언트에 따라 제한될 수 있으며, 큰 데이터를 전송하는 경우 주의해야 한다.
#### * ***FastAPI를 사용하면 Request Body를 파싱하고 해당 데이터를 Pydantic 모델을 통해 파이썬 객체로 변환할 수 있다. 이를 통해 데이터 유효성 검사 및 응답 모델 생성을 수행할 수 있다.***
